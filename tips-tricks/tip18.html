<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1250">
		<title>Detail tipu</title>
		<meta name="GENERATOR" content="Microsoft Visual Studio .NET 7.1">
		<meta name="CODE_LANGUAGE" content="Visual Basic .NET 7.1">
		<meta name="vs_defaultClientScript" content="JavaScript">
		<meta name="vs_targetSchema" content="http://schemas.microsoft.com/intellisense/ie5">
		<link href="./../Styles.css" type="text/css" rel="stylesheet">
	</head>
	<body ms_positioning="GridLayout"><center>
		<div class="TIP_BCKG_AREA" align="center">
				<div class="TIP_CONTENT_AREA" id="TipContentArea">
					<table id="tblContent" class="MD_TABLE_INFO" width="448px" cellspacing="0" cellpadding="3" align="left">
	<tbody><tr>
		<td style="color:#FFFFFF;font-weight:bold;" width="50%">Autor : Ruprt</td>
		<td style="color:#FFFFFF;font-weight:bold;" width="50%" align="right">Ukázka není k dispozici<br>
			<a href="./../tips-tricks.html">Zpìt na Tipy &amp Triky</a>
		</td>
	</tr>
	<tr>
		<td colspan="2" height="9px" bgcolor="#9FA5C5"></td>
	</tr>
	<tr>
		<td colspan="2" style="font-size:1.0em;font-weight:bold;color:#FF6600;" align="center">Opatøení proti hráèùm MP misí, kteøí støílejí na nepøátele v místì jejich respawnu.</td>
	</tr>
	<tr>
		<td colspan="2" height="9px" bgcolor="#9FA5C5"></td>
	</tr>
	<tr>
		<td colspan="2" style="font-size:1.05em;font-weight:normal;text-align:justify;color:#EBE7D8;">Harrier
 mnì poloil dotaz, zda-li je moné udìlat ochranu v MP misi proti 
hráèùm, kteøí støílejí do protihráèù na místì jejich respawnu. 
Pøedstavoval si to tak, e v pøípadì, e hráè zastøelí protihráèe na 
respawnu, tak by mu byli odebrány všechny zbrane, 5 minut by byl jako 
mrtvı a pak by se "probral" na svém respawnu.<br>Vzhledem k tomu, e 
poèet a prodleva respawnu se nastavuje pro všechny hráèe MP mise stejnì a
 ještì k tomu v description.ext, nelze takové øešení úplnì pøesnì 
provést, protoe description.ext v prùbìhu hry prostì zmìnit nelze.<br><br>Vymyslel
 jsem ale jiné øešení. Pro hry udìlané ve verzi 1.90 je ji k dispozici 
EvenHandler (Obsluha událostí). Pro starší verze mám však také øešení.<br><br>1) MP mise pro verzi 1.90 - Pøíklad<br>Mise
 bude mít 4 hráèe WEST a 4 hráèe EAST. Na místì respawnu hráèù WEST 
umístíme jakıkoli objekt (doporuèuji Logickı èlen), kterı pojmenujeme 
"respawnWest". Na místì respawnu hráèù EAST umístíme opìt objekt - 
Logickı èlen a pojmenujeme ho "respawnEast".<br>Ve vzdálenosti od 
"respawnWest"(ve smìru dozadu od herní oblasti), kterou by voják beze 
zbranì ubìhl asi tak za 5 minut umístíme další logickı èlen, kterı 
pojmenujem tøeba "badBoyPointWest". To samé udìláme pro stranu EAST s 
tím rozdílem, e ten druhı logickı èlen pojmenujem "badBoyPointEast". No
 a teï u ke scriptu.<br>V závislosti na tom, zda-li chcete provinilce 
potrestat pouze za to, e protihráèe trefil, ale ještì nezabil, nebo ho 
chcete potresta jenom kdy protihraèe nedovolenì zabije, zvolíte 
EventHandler.<br>a) pouze strefa - protihrac na respawnu je pouze zranìn :<br>do init.sqs zapiste nasledujici kód<br>hracEast1 addEventHandler ["Hit",{_this exec "badboywest.sqs"}]<br>hracEast2 addEventHandler ["Hit",{_this exec "badboywest.sqs"}]<br>hracEast3 addEventHandler ["Hit",{_this exec "badboywest.sqs"}]<br>hracEast4 addEventHandler ["Hit",{_this exec "badboywest.sqs"}]<br><br>hracWest1 addEventHandler ["Hit",{_this exec "badboyeast.sqs"}]<br>hracWest2 addEventHandler ["Hit",{_this exec "badboyeast.sqs"}]<br>hracWest3 addEventHandler ["Hit",{_this exec "badboyeast.sqs"}]<br>hracWest4 addEventHandler ["Hit",{_this exec "badboyeast.sqs"}]<br>(pozn. pokud jsou hraci jedne strany ve stejne skupine muzete samozrejme pouzit prikaz ForEach : <br>"_x addEventHandler [""Hit"",{_this exec ""respointwest.sqs""}]" ForEach Units Group hracEast1<br>"_x addEventHandler [""Hit"",{_this exec ""respointeast.sqs""}]" ForEach Units Group hracWest1 )<br><br>Poté si vytvoøíte ony dva scripty badboywest.sqs a badboyeast.sqs kde bude náledující kód ;<br>soubor badboywest.sqs :<br>_mrtvola = _this Select 0<br>_kdozabil = _this Select 1<br><br>?
 (_mrtvola Distance respawnEast) &lt; 20: _kdozabil SetPos GetPos 
badBoyPointWest; RemoveAllWeapons _kdozabil; _mrtvola SetDamage 0<br>Exit<br><br>no a soubor badboyeast.sqs pak bude obsahovat tento kód :<br>_mrtvola = _this Select 0<br>_kdozabil = _this Select 1<br><br>?
 (_mrtvola Distance respawnWest) &lt; 20: _kdozabil SetPos GetPos 
badBoyPointEast; RemoveAllWeapons _kdozabil; _mrtvola SetDamage 0<br>Exit<br><br>A
 to je vše. Hráè, kterı se proviní tím, e zraní protihráèe ve 
vzdálenosti do 20 metrù od jeho respawnu, pak bude pøemístìn na pozici 
objektu BadBoyPointStrana a bude muset beze zbranì bìet 5 minut na 
místo svého respawnu, kde si vezme z beden s municí novou zbraò a munici
 a pøíštì u si rozmyslí, zbabìle støílet do nepøátel na respawnu. Navíc
 postienı hráè bude "opraven" pøíkazem " _mrtvola SetDamage 0".<br><br>b)
 V pøípadì, e chcete hráèe potrestat jenom za zabití protihráèe na 
respawnu, pouijte v init.sqs EventHandler "Killed" namísto "Hit" a ze 
souborù badboystrana.sqs odeberete za RemoveAllWeapons _kdozabil toto : 
"; _mrtvola SetDamage 0".<br><br><br>2) MP mise pro verzi niší ne 1.90 - Pøíklad<br>Zde
 lze pouít pouze trest za zabití protihráèe nikoli za pouhé zranìní. 
Take ... objekty umístíte stejnì jako u pøedchozího pøíkladu a stejnì 
je také pojmenujete.<br>Soubor init.sqs nemusí obsahovat nic. Musíte však vytvoøit soubor onPlayerKilled.sqs, kterı bude obsahovat následující kód :<br>_mrtvola = _this Select 0<br>_kdozabil = _this Select 1<br><br>? (_mrtvola Distance respawnWest) &lt; 20 AND (Side _mrtvola) == West: Goto "ResPointEast"<br>? (_mrtvola Distance respawnEast) &lt; 20 AND (Side _mrtvola) == East: Goto "ResPointWest"<br><br>#ResPointWest<br>_kdozabil SetPos GetPos badBoyPointWest<br>RemoveAllWeapons _kdozabil<br>Exit<br><br>#ResPointEast<br>_kdozabil SetPos GetPos badBoyPointEast<br>RemoveAllWeapons _kdozabil<br>Exit<br><br>A
 to vše. Mìjte na pamìti, e kadı script lze v OFP spustit ve více 
instancích a EvenHandlery "Hit" a "Killed" a soubor onPlayerKilled.sqs 
jsou vykonávány pouze lokálnì a nehrozí tedy kolize kódu scriptu ani v 
pøípadì, e by byli zabiti tøeba všichni hráèi najednou. Je to prostì 
bezpeèné a pro provinilce dostateènì zpruzující.</td>
	</tr>
</tbody></table>

				</div>
			</div>
		</form>
	
</center>
</body></html>